<article>
  <app-recipe-new *ngIf="showRecipeNewComponent"
                  (closeModal)="showRecipeNewComponent = false"></app-recipe-new>
  <app-recipe-edit *ngIf="showRecipeEditComponent"
                   [index]="index"
                   (closeModal)="showRecipeEditComponent = false"></app-recipe-edit>

  <div class="article-main">
    <table>

      <thead>
        <tr>
          <th class="fit">
            <button type="button" (click)="showContent()">
              <span *ngIf="!_showContent">></span>
              <span *ngIf="_showContent">v</span>
            </button>
          </th>
          <th><h2>My recipes ({{ recipes.length }})</h2></th>
          <th class="fixed300"><button id="recipe_new_button" (click)="newRecipe()">New recipe</button></th>
        </tr>
      </thead>

      <tbody *ngIf="_showContent">
        <tr id="recipe-{{i}}" *ngFor="let recipe of recipes; let i = index;">
          <td>
            <button id="recipe_details_button-{{i}}" type="button" (click)="showDetails(i)">
              <span *ngIf="selected != i">></span>
              <span *ngIf="selected == i">v</span>
            </button>
          </td>
          <td>
            <h3>{{ recipe.getName() }}</h3>
            <div id="recipe_details-{{i}}" *ngIf="selected == i">

              <table>
                <thead>
                  <tr>
                    <th><h4>Ingredients</h4></th>
                    <th>Quantity</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let ingredient of recipe.getIngredients()">
                    <td>{{ ingredient.getName() }}</td>
                    <td>{{ ingredient.getQuantity() }}</td>
                  </tr>
                </tbody>
              </table>

              <table>
                <thead>
                <tr>
                  <th><h4>Instructions</h4></th>
                </tr>
                </thead>
                <tbody>
                <tr *ngFor="let instruction of recipe.getInstructions()">
                  <td>{{ instruction }}</td>
                </tr>
                </tbody>
              </table>

            </div>
          </td>
          <td>
            <button id="recipe_edit_button-{{i}}" type="button" (click)="editRecipe(i)">Edit</button>
            <button id="recipe_delete_button-{{i}}" type="button" (click)="deleteRecipe(i)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</article>

